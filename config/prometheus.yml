global:
  scrape_interval: 15s
  evaluation_interval: 15s
  external_labels:
    cluster: 'payment-gateway'
    environment: 'development'

# Alerting configuration
alerting:
  alertmanagers:
    - static_configs:
        - targets:
          # - alertmanager:9093

# Load alerting rules
rule_files:
  - /etc/prometheus/alerting-rules.yml

scrape_configs:
  - job_name: 'prometheus'
    static_configs:
      - targets: ['localhost:9090']

  - job_name: 'authorization-service'
    metrics_path: '/actuator/prometheus'
    static_configs:
      - targets: ['authorization-service:8446']

  - job_name: 'tokenization-service'
    metrics_path: '/metrics'
    static_configs:
      - targets: ['tokenization-service:8445']

  - job_name: 'hsm-simulator'
    metrics_path: '/metrics'
    static_configs:
      - targets: ['hsm-simulator:8444']

  - job_name: 'fraud-detection-service'
    metrics_path: '/actuator/prometheus'
    static_configs:
      - targets: ['fraud-detection-service:8447']

  - job_name: '3ds-service'
    metrics_path: '/actuator/prometheus'
    static_configs:
      - targets: ['3ds-service:8448']

  - job_name: 'settlement-service'
    metrics_path: '/actuator/prometheus'
    static_configs:
      - targets: ['settlement-service:8449']

  - job_name: 'retry-engine'
    metrics_path: '/metrics'
    static_configs:
      - targets: ['retry-engine:8450']
